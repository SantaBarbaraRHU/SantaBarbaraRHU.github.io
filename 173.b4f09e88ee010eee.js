"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[173],{1173:(L,d,e)=>{e.r(d),e.d(d,{AppointmentsModule:()=>j});var A=e(3676),f=e(655),x=e(101),y=e(3995),C=e(4942),u=e(1665),g=e(2448),M=e(5786),T=e(1764),v=e.n(T),t=e(2223),Z=e(3130),J=e(6519),N=e(8278),S=e(862),c=e(9401),r=e(4755),U=e(430),_=e(8097),h=e(9114),O=e(787),H=e(1217),Y=e(1728),l=e(8280),I=e(3065),Q=e(743),E=e(9190),F=e(4328);const R=function(o,i){return{"bg-black text-white pointer-events-none":o,"text-gray-500 md:hover:bg-gray-50":i}};function $(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){const m=t.CHM(n).$implicit,G=t.oxw(2);return t.KtG(G.currentRHU=m)}),t._uU(1),t.qZA()}if(2&o){const n=i.$implicit,a=t.oxw(2);t.Q6J("ngClass",t.WLB(2,R,a.currentRHU===n,a.currentRHU!==n)),t.xp6(1),t.hij(" ",n," ")}}function K(o,i){if(1&o&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&o){const n=i.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function b(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(n);const p=t.oxw(2);return t.KtG(p.patientName="")}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function D(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",2),t.YNc(1,$,2,5,"button",5),t.TgZ(2,"mat-form-field",6)(3,"mat-select",7),t.NdJ("ngModelChange",function(p){t.CHM(n);const m=t.oxw();return t.KtG(m.currentService=p)}),t.TgZ(4,"mat-option",8),t._uU(5,"All"),t.qZA(),t.YNc(6,K,2,2,"mat-option",9),t.qZA(),t._UZ(7,"mat-icon",10),t.qZA(),t.TgZ(8,"mat-form-field",11)(9,"mat-date-range-input",12)(10,"input",13),t.NdJ("ngModelChange",function(p){t.CHM(n);const m=t.oxw();return t.KtG(m.startAt=p)}),t.qZA(),t.TgZ(11,"input",14),t.NdJ("ngModelChange",function(p){t.CHM(n);const m=t.oxw();return t.KtG(m.endAt=p)}),t.qZA()(),t._UZ(12,"mat-datepicker-toggle",15)(13,"mat-date-range-picker",null,16),t.qZA(),t.TgZ(15,"mat-form-field",17),t._UZ(16,"mat-icon",18),t.TgZ(17,"input",19),t.NdJ("ngModelChange",function(p){t.CHM(n);const m=t.oxw();return t.KtG(m.patientName=p)}),t.qZA(),t.YNc(18,b,3,0,"button",20),t.qZA(),t.TgZ(19,"button",21),t.NdJ("click",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.addAppointmentModalOpened$.next(!0))}),t._UZ(20,"mat-icon",22),t._uU(21," Walk-in "),t.qZA()()}if(2&o){const n=t.MAs(14),a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.RHU),t.xp6(2),t.Q6J("ngModel",a.currentService),t.xp6(1),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",a.SERVICES),t.xp6(3),t.Q6J("rangePicker",n),t.xp6(1),t.Q6J("ngModel",a.startAt),t.xp6(1),t.Q6J("ngModel",a.endAt),t.xp6(1),t.Q6J("for",n),t.xp6(5),t.Q6J("ngModel",a.patientName),t.xp6(1),t.Q6J("ngIf",a.patientName)}}class s{constructor(i,n){this._store=i,this._addAppointmentModal=n,this.addAppointmentModalOpened$=this._addAppointmentModal.opened$,this.RHU=Object.values(C.V),this.SERVICES=Object.values(y.S),this.currentRHU=this.RHU[0],this.currentService=void 0,this.patientName="",this.startAt=v()().startOf("month").format("YYYY-MM-DD"),this.endAt=v()().endOf("month").format("YYYY-MM-DD"),this.ready=!1}ngOnInit(){setTimeout(()=>{this._store.dispatch(M.S.APPOINTMENTS.load.request({isToday:!1})),this.ready=!0},1500)}}s.\u0275fac=function(i){return new(i||s)(t.Y36(Z.yh),t.Y36(J.c))},s.\u0275cmp=t.Xpm({type:s,selectors:[["appointments"]],decls:11,vars:20,consts:[[1,"flex","flex-col","w-full"],["pageTitle","Appointments","subtitle","You can see the list of all appointments here","icon","feather:calendar",1,"w-full"],[1,"flex","items-center","w-full","p-3","bg-white"],["class","flex items-center w-full p-3 bg-white",4,"ngIf"],[3,"ready","appointments"],["class","px-5 py-2 mr-3 active:opacity-25",3,"ngClass","click",4,"ngFor","ngForOf"],["appearance","fill",1,"mb-0","ml-auto","translate-y-2","min-w-64"],["placeholder","Type of Service",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","svgIcon","feather:chevron-down"],["appearance","fill",1,"mx-3","mb-0","translate-y-2","min-w-64"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],[1,"mx-3","mb-0","translate-y-2","min-w-64"],["svgIcon","feather:search",1,"mr-3"],["matInput","","placeholder","Search Patient",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"flex","items-center","px-5","py-3","mx-3","text-white","rounded-sm","bg-emerald-500",3,"click"],["svgIcon","feather:plus",1,"mr-3","text-white"],[1,"px-5","py-2","mr-3","active:opacity-25",3,"ngClass","click"],["matSuffix","","mat-icon-button","",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"route-header",1)(2,"div",2),t.YNc(3,D,22,10,"div",3),t.ALo(4,"async"),t._UZ(5,"appointment-list",4),t.ALo(6,"filter_appointment_by_date_range"),t.ALo(7,"filter_appointment_by_patient_name"),t.ALo(8,"filter_appointment_by_type"),t.ALo(9,"filter_appointment_by_rhu"),t.ALo(10,"async"),t.qZA()),2&i&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,3,n.patients$)),t.xp6(2),t.Q6J("ready",n.ready)("appointments",t.Dn7(6,5,t.xi3(7,9,t.xi3(8,12,t.xi3(9,15,t.lcZ(10,18,n.appointments$),n.currentRHU),n.currentService),n.patientName),n.startAt,n.endAt)))},dependencies:[N.t,S.z,c.Fj,c.JJ,c.On,r.mk,r.sg,r.O5,U.Hw,_.Nt,h.KE,h.R9,O.gD,H.ey,Y.RK,l.nW,l.wx,l.zY,l.By,l._g,I.a,Q.v,E.n,F.T,r.Ov],encapsulation:2,data:{animation:[...x.x]}}),(0,f.gn)([(0,g.Z)({selector:u.f.PATIENTS,type:"array"})],s.prototype,"patients$",void 0),(0,f.gn)([(0,g.Z)({selector:u.f.APPOINTMENTS,type:"array"})],s.prototype,"appointments$",void 0);var P=e(7102);let j=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[P.m,A.Bz.forChild([{path:"",component:s}])]}),o})()}}]);